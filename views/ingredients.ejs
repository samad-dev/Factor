<%- contentFor('HeaderCss') %>
<!-- Daterangepicker css -->
<link rel="stylesheet" href="assets/vendor/daterangepicker/daterangepicker.css">

<!-- Vector Map css -->
<link rel="stylesheet" href="assets/vendor/admin-resources/jquery.vectormap/jquery-jvectormap-1.2.2.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css">
<%- contentFor('body') %>

<!-- end row -->


<div class="row mt-5">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <h1 class="header-title" class="mb-6" style="font-size: 20px;">Ingredients</h1>
                <br>
                <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#top-modal">Add</button>
                <br>
                <br>


                <table id="basic-datatable" class="table table-striped dt-responsive nowrap w-100">
                    <thead>
                        <tr>
                            <th>S NO#</th>
                            <th>Ingredients</th>
                            <th>Unit</th>
                            <th>Created At</th>
                            <th>Updated At</th>
                           
                        </tr>
                    </thead>         
                
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Chicken</td>
                            <td>KG</td>
                            <td>2023-12-26 13:52:38.547514</td>
                            <td>2023-12-26 13:52:38.547514</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Mutton</td>
                            <td>Pounds</td>
                            <td>2023-12-26 13:52:38.547514</td>
                            <td>2023-12-26 13:52:38.547514</td>
                        </tr>
                        
                    </tbody>
                </table> 

            </div> <!-- end card body-->
        </div> <!-- end card -->
    </div><!-- end col-->
</div> <!-- end row-->


<div id="top-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="topModalLabel">Add Ingredient</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
               <label for="">Ingredient</label>
               <input type="text" class="form-control">
               <label for="">Unit</label>
               <input type="text" class="form-control">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div

<%- contentFor('FooterJs') %>

<!-- Vector Map js -->
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
<script>

let table = new DataTable('#basic-datatable');
$('document').ready(function(){
    fetch();

})
function fetch(){
var settings = {
    "url": "/ingredient",
    "method": "GET",
    "timeout": 0,
};

$.ajax(settings).done(function(response) {
    console.log(response);
    table.clear().draw();
    $.each(response, function(index, data) {
        table.row.add([
            index + 1,
            data.ingredient,
            data.created_at,
            data.updated_at,
            '<button type="button"id="edit" name="edit" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight"  onclick="editData(' +
            data.id +
            ')"  class="btn btn-soft-secondary "style="padding:5px 10px;" ><i class="ri ri-pencil-fill font-size-16 align-middle" style="font-size:16px;"></i></button>',
            ]).draw(false);
    });
});
}

</script>
